<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>鸿合图书管理系统</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/easyui-themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/easyui-themes/icon.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
    <script type="text/javascript" src="/javascripts/jquery-1.11.3.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="/javascripts/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="/javascripts/dateFormat.js"></script>

</head>
<body class="easyui-layout">
<div data-options="region:'north',border:false" style="height:60px;background:#B3DFDA;padding:10px">
    <div style="width: 93%;display: inline-block;font-size: 20px;font-weight: bold;">鸿合图书管理系统</div>
    <div style="display: inline-block;">
        <a href="#" class="easyui-linkbutton" data-options="plain:true" onclick="$('#personal_information_edit').dialog('open')"><span><%=user.name%></span></a>
        <a href="/login/logout" class="easyui-linkbutton">退出登录</a>
    </div>
</div>
<div id="personal_information_edit" class="easyui-dialog" style="width:100%;height:560px;max-width:800px;padding:30px 60px;"
     data-options="
        title: '个人信息',
        closed: true,
        modal: true,
        draggable: false,
        href:'/users/user_details_index'
        ">
</div>

<div data-options="region:'south',border:false" style="height:50px;background:#A9FACD;padding:10px;">south region</div>
<div id="main_layout_center" class="easyui-panel" data-options="region:'center',href:'booksQuery/index'" style="padding: 0px;">
</div>
<script>

    function createColumnMenu() {
        $.cmenu = $('<div/>').appendTo('body');
        $.cmenu.menu({
            onClick: function (item) {
                if (item.iconCls == 'icon-ok') {
                    $('#return_dg').datagrid('hideColumn', item.name);
                    $.cmenu.menu('setIcon', {
                        target: item.target,
                        iconCls: 'icon-empty'
                    });
                } else {
                    $('#return_dg').datagrid('showColumn', item.name);
                    $.cmenu.menu('setIcon', {
                        target: item.target,
                        iconCls: 'icon-ok'
                    });
                }
            }
        });
        var fields = $('#return_dg').datagrid('getColumnFields');
        for (var i = 0; i < fields.length; i++) {
            var field = fields[i];
            var col = $('#return_dg').datagrid('getColumnOption', field);
            $.cmenu.menu('appendItem', {
                text: col.title,
                name: field,
                iconCls: 'icon-ok'
            });
        }
    }
    function showEditDialog(data) {
        if (data) {
            $('#password_ff').form('load', data);
            $('#password_edit').dialog({url: 'edit'});
        } else {
            $('#password_edit').dialog({url: 'add'});
        }
        $('#password_edit').dialog('open');
    }
    $.extend($.fn.validatebox.defaults.rules, {
        /*必须和某个字段相等*/
        equalTo: {
            validator: function (value, param) {
                return $(param[0]).val() == value;
            },
            message: '字段不匹配'
        }
    });
</script>

</body>
</html>
